{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from \"axios\";\nexport default (() => {\n  const instance = axios.create({\n    baseURL: \"http://localhost:3000\",\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n      'Access-Control-Allow-Origin': '*'\n    }\n  });\n  // Interceptar as requisições com erro de autorização...\n  instance.interceptors.response.use(response => response, error => {\n    // Verifica se o erro é \"Unauthorized\" (401 ou 403)\n    if (error.response.status === 401 || error.response.status === 403) {\n      // Redireciona para a rota de login\n      let domain = new URL(window.location);\n      window.location.href = `${domain.protocol}//${domain.hostname}:${domain.port}/`;\n    } else {\n      window.location.href = `${domain.protocol}//${domain.hostname}:${domain.port}/?login=ok`;\n    }\n    return Promise.reject(error);\n  });\n  return instance;\n});","map":{"version":3,"names":["axios","instance","create","baseURL","headers","interceptors","response","use","error","status","domain","URL","window","location","href","protocol","hostname","port","Promise","reject"],"sources":["/drop/Dropbox/vuejs/8o_app/src/api/index.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default() => {\n  const instance = axios.create({\n    baseURL: \"http://localhost:3000\",\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n      'Access-Control-Allow-Origin': '*'\n    }\n  })\n  // Interceptar as requisições com erro de autorização...\n   instance.interceptors.response.use(\n     (response) => response,\n     (error) => {\n       // Verifica se o erro é \"Unauthorized\" (401 ou 403)\n       if (error.response.status === 401 || error.response.status === 403) {\n         // Redireciona para a rota de login\n         let domain = (new URL(window.location));\n         window.location.href = `${domain.protocol}//${domain.hostname}:${domain.port}/`;\n       } else {\n        window.location.href = `${domain.protocol}//${domain.hostname}:${domain.port}/?login=ok`;\n       }\n       return Promise.reject(error);\n     }\n   );\n  return instance;\n};\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,gBAAc,MAAM;EAClB,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAC;IAC5BC,OAAO,EAAE,uBAAuB;IAChCC,OAAO,EAAE;MACP,cAAc,EAAE,iCAAiC;MACjD,6BAA6B,EAAE;IACjC;EACF,CAAC,CAAC;EACF;EACCH,QAAQ,CAACI,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC/BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;IACT;IACA,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,IAAID,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;MAClE;MACA,IAAIC,MAAM,GAAI,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAAE;MACvCD,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAGJ,MAAM,CAACK,QAAQ,KAAKL,MAAM,CAACM,QAAQ,IAAIN,MAAM,CAACO,IAAI,GAAG;IACjF,CAAC,MAAM;MACNL,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAGJ,MAAM,CAACK,QAAQ,KAAKL,MAAM,CAACM,QAAQ,IAAIN,MAAM,CAACO,IAAI,YAAY;IACzF;IACA,OAAOC,OAAO,CAACC,MAAM,CAACX,KAAK,CAAC;EAC9B,CACF,CAAC;EACF,OAAOP,QAAQ;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}