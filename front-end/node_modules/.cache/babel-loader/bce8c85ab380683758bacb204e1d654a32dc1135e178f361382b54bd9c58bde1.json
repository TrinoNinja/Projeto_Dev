{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport servicoLogin from \"../api/login\";\nexport default {\n  name: \"vwUserLogin\",\n  data: () => ({\n    credenciais: {\n      username: 'eliel',\n      password: '654321'\n    },\n    response: null\n  }),\n  methods: {\n    async login() {\n      try {\n        //chamada do servico de login\n        ////await servicoLogin.login(this.credenciais);\n        const resultado = await servicoLogin.login(this.credenciais);\n        ////alert(JSON.stringify(resultado));\n        ////alert(JSON.parse(JSON.stringify(resultado.menu)));\n\n        //criar sessao\n        ////alert(this.credenciais.username);\n        if (resultado) {\n          sessionStorage.login = this.credenciais.username;\n          localStorage.setItem('menu', JSON.parse(JSON.stringify(resultado.menu)));\n          alert(JSON.parse(JSON.stringify(resultado.menu)));\n        }\n\n        //direcionar para a pagina home\n        this.$router.push('/home');\n      } catch (error) {\n        sessionStorage.login = '';\n        console.error('Erro ao fazer login:', error);\n        this.response = error.response ? error.response.data : 'Erro desconhecido';\n      }\n    }\n  }\n};","map":{"version":3,"names":["servicoLogin","name","data","credenciais","username","password","response","methods","login","resultado","sessionStorage","localStorage","setItem","JSON","parse","stringify","menu","alert","$router","push","error","console"],"sources":["/drop/Dropbox/vuejs/5a_app/src/components/login.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col cols=\"12\">\n        <v-img\n          :src=\"require('../assets/logo_eliel.png')\"\n          class=\"my-3\"\n          contain\n          height=\"100\"\n        />\n      </v-col>\n\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Acesso ao Sistema\n        </h1>\n\n      <v-sheet class=\"mx-auto\" max-width=\"300\">\n       <v-form ref=\"form\">\n         <v-text-field\n           v-model=\"credenciais.username\"\n           label=\"Username\"\n           required\n         ></v-text-field>\n         <v-text-field\n           v-model=\"credenciais.password\"\n           label=\"Password\"\n           type=\"password\"\n            required\n         ></v-text-field>\n         <v-btn @click=\"login\">Login</v-btn>\n       </v-form>\n      </v-sheet>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n\nimport servicoLogin from \"../api/login\";\n\nexport default {\n  name: \"vwUserLogin\",\n\n  data: () => ({\n    credenciais: {\n      username: 'eliel',\n      password: '654321'\n    },\n    response: null\n  }),\n\n  methods: {\n    async login() {\n      try {\n        //chamada do servico de login\n        ////await servicoLogin.login(this.credenciais);\n        const resultado = await servicoLogin.login(this.credenciais);\n        ////alert(JSON.stringify(resultado));\n        ////alert(JSON.parse(JSON.stringify(resultado.menu)));\n        \n        //criar sessao\n        ////alert(this.credenciais.username);\n        if (resultado) {\n          sessionStorage.login = this.credenciais.username;\n          localStorage.setItem('menu', JSON.parse(JSON.stringify(resultado.menu)));\n          alert(JSON.parse(JSON.stringify(resultado.menu)));\n        }\n\n        //direcionar para a pagina home\n        this.$router.push('/home');\n      } catch (error) {\n        sessionStorage.login = '';\n        console.error('Erro ao fazer login:', error);\n        this.response = error.response ? error.response.data : 'Erro desconhecido'; \n      }            \n    },    \n  },\n\n};\n\n</script>\n"],"mappings":";AAwCA,OAAOA,YAAW,MAAO,cAAc;AAEvC,eAAe;EACbC,IAAI,EAAE,aAAa;EAEnBC,IAAI,EAAEA,CAAA,MAAO;IACXC,WAAW,EAAE;MACXC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAE;IACZ,CAAC;IACDC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEFC,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAA,EAAG;MACZ,IAAI;QACF;QACA;QACA,MAAMC,SAAQ,GAAI,MAAMT,YAAY,CAACQ,KAAK,CAAC,IAAI,CAACL,WAAW,CAAC;QAC5D;QACA;;QAEA;QACA;QACA,IAAIM,SAAS,EAAE;UACbC,cAAc,CAACF,KAAI,GAAI,IAAI,CAACL,WAAW,CAACC,QAAQ;UAChDO,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACN,SAAS,CAACO,IAAI,CAAC,CAAC,CAAC;UACxEC,KAAK,CAACJ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACN,SAAS,CAACO,IAAI,CAAC,CAAC,CAAC;QACnD;;QAEA;QACA,IAAI,CAACE,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;MAC5B,EAAE,OAAOC,KAAK,EAAE;QACdV,cAAc,CAACF,KAAI,GAAI,EAAE;QACzBa,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5C,IAAI,CAACd,QAAO,GAAIc,KAAK,CAACd,QAAO,GAAIc,KAAK,CAACd,QAAQ,CAACJ,IAAG,GAAI,mBAAmB;MAC5E;IACF;EACF;AAEF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}