{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"display-2 font-weight-bold mb-3\"\n}, \" Editar Usu치rio \", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_select = _resolveComponent(\"v-select\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_sheet = _resolveComponent(\"v-sheet\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_Modal = _resolveComponent(\"Modal\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      class: \"text-center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        class: \"mb-4\"\n      }, {\n        default: _withCtx(() => [_hoisted_1, _createVNode(_component_v_sheet, {\n          class: \"mx-auto\",\n          \"max-width\": \"300\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_form, {\n            ref: \"form\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_text_field, {\n              modelValue: _ctx.editedUser.username,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.editedUser.username = $event),\n              label: \"Username\",\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n              modelValue: _ctx.editedUser.password,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.editedUser.password = $event),\n              label: \"Password\",\n              type: \"password\",\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n              modelValue: _ctx.editedUser.confirmaPassword,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.editedUser.confirmaPassword = $event),\n              label: \"Confirmar password\",\n              type: \"password\",\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_select, {\n              items: _ctx.perfis,\n              modelValue: _ctx.perfilSelecionado,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.perfilSelecionado = $event),\n              label: \"Perfil\",\n              \"item-title\": \"perfil\",\n              \"item-value\": \"id\"\n            }, null, 8 /* PROPS */, [\"items\", \"modelValue\"]), _createVNode(_component_v_btn, {\n              onClick: $options.salvar\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"Salvar\")]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\"])]),\n            _: 1 /* STABLE */\n          }, 512 /* NEED_PATCH */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_Modal, {\n      modelValue: _ctx.exibirModal,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.exibirModal = $event),\n      texto: _ctx.mensagem\n    }, null, 8 /* PROPS */, [\"modelValue\", \"texto\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createElementVNode","class","_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_row","_component_v_col","_hoisted_1","_component_v_sheet","_component_v_form","ref","_component_v_text_field","modelValue","_ctx","editedUser","username","_cache","$event","label","required","password","type","confirmaPassword","_component_v_select","items","perfis","perfilSelecionado","_component_v_btn","onClick","$options","salvar","_createTextVNode","_","_component_Modal","exibirModal","texto","mensagem"],"sources":["/drop/Dropbox/vuejs/5a_app/src/components/edit_user.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"text-center\">\n\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Editar Usu치rio\n        </h1>\n\n        <v-sheet class=\"mx-auto\" max-width=\"300\">\n          <v-form ref=\"form\">\n            <v-text-field v-model=\"editedUser.username\" label=\"Username\" required></v-text-field>\n            <v-text-field v-model=\"editedUser.password\" label=\"Password\" type=\"password\" required></v-text-field>\n            <v-text-field v-model=\"editedUser.confirmaPassword\" label=\"Confirmar password\" type=\"password\" required></v-text-field>\n            <v-select :items=\"perfis\" v-model=\"perfilSelecionado\" label=\"Perfil\"\n              item-title=\"perfil\" item-value=\"id\" \n            ></v-select>\n            <v-btn @click=\"salvar\">Salvar</v-btn>\n          </v-form>\n        </v-sheet>\n      </v-col>\n    </v-row>\n    <Modal v-model=\"exibirModal\" :texto=\"mensagem\"></Modal>\n  </v-container>\n</template>\n\n<script>\n\nimport Modal from \"./modal.vue\"\nimport servicoUsuario from \"../api/usuario\";\n\nexport default {\n  name: \"vwEditUser\",\n  components: {\n    Modal\n  },\n  data: () => ({\n    editedUser: {\n      username: '',\n      password: '',\n      confirmaPassword: '',\n      perfil_id: null\n    },\n    exibirModal: false,\n    mensagem: '',\n    perfis: [],\n    perfilSelecionado: null\n  }),\n\n  methods: {\n    async salvar() {\n      //console.log(JSON.stringify(this.credenciais))\n      this.editedUser.password = null;\n      this.editedUser.perfil_id = this.perfilSelecionado.itens;\nalert(this.editedUser.perfil_id)\n      await servicoUsuario.updateUser(this.editedUser)\n        .then((res) => {\n          console.log(JSON.stringify(res));\n          this.mensagem = `Usu치rio salvo com sucesso!`\n          this.exibirModal = true;\n        })\n        .catch(() => {\n          this.mensagem = `Falha ao salvar usu치rio!`\n          this.exibirModal = true;\n        });\n    },\n  },\n\n  async mounted() {\n    console.log(`antes de buscar perfis`)\n    servicoUsuario.getPerfis()\n    .then(async (res) => {\n      this.perfis = res;\n      this.editedUser = await servicoUsuario.getUser(this.$route.params.id);\n      this.perfilSelecionado = this.editedUser.perfil_id;\n    })\n    .catch((e)=>{\n      console.error(JSON.stringify(e));\n    });\n    console.log(`depios de buscar perfis ${this.perfis.length}`)\n  }\n};\n\n</script>"],"mappings":";gCAKQA,mBAAA,CAEK;EAFDC,KAAK,EAAC;AAAiC,GAAC,kBAE5C;;;;;;;;;;;uBANNC,YAAA,CAsBcC,sBAAA;IAvBhBC,OAAA,EAAAC,QAAA,CAEI,MAmBQ,CAnBRC,YAAA,CAmBQC,gBAAA;MAnBDN,KAAK,EAAC;IAAa;MAF9BG,OAAA,EAAAC,QAAA,CAIM,MAgBQ,CAhBRC,YAAA,CAgBQE,gBAAA;QAhBDP,KAAK,EAAC;MAAM;QAJzBG,OAAA,EAAAC,QAAA,CAKQ,MAEK,CAFLI,UAEK,EAELH,YAAA,CAUUI,kBAAA;UAVDT,KAAK,EAAC,SAAS;UAAC,WAAS,EAAC;;UAT3CG,OAAA,EAAAC,QAAA,CAUU,MAQS,CARTC,YAAA,CAQSK,iBAAA;YARDC,GAAG,EAAC;UAAM;YAV5BR,OAAA,EAAAC,QAAA,CAWY,MAAqF,CAArFC,YAAA,CAAqFO,uBAAA;cAXjGC,UAAA,EAWmCC,IAAA,CAAAC,UAAU,CAACC,QAAQ;cAXtD,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAWmCJ,IAAA,CAAAC,UAAU,CAACC,QAAQ,GAAAE,MAAA;cAAEC,KAAK,EAAC,UAAU;cAACC,QAAQ,EAAR;qDAC7Df,YAAA,CAAqGO,uBAAA;cAZjHC,UAAA,EAYmCC,IAAA,CAAAC,UAAU,CAACM,QAAQ;cAZtD,uBAAAJ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAYmCJ,IAAA,CAAAC,UAAU,CAACM,QAAQ,GAAAH,MAAA;cAAEC,KAAK,EAAC,UAAU;cAACG,IAAI,EAAC,UAAU;cAACF,QAAQ,EAAR;qDAC7Ef,YAAA,CAAuHO,uBAAA;cAbnIC,UAAA,EAamCC,IAAA,CAAAC,UAAU,CAACQ,gBAAgB;cAb9D,uBAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAamCJ,IAAA,CAAAC,UAAU,CAACQ,gBAAgB,GAAAL,MAAA;cAAEC,KAAK,EAAC,oBAAoB;cAACG,IAAI,EAAC,UAAU;cAACF,QAAQ,EAAR;qDAC/Ff,YAAA,CAEYmB,mBAAA;cAFDC,KAAK,EAAEX,IAAA,CAAAY,MAAM;cAdpCb,UAAA,EAc+CC,IAAA,CAAAa,iBAAiB;cAdhE,uBAAAV,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAc+CJ,IAAA,CAAAa,iBAAiB,GAAAT,MAAA;cAAEC,KAAK,EAAC,QAAQ;cAClE,YAAU,EAAC,QAAQ;cAAC,YAAU,EAAC;8DAEjCd,YAAA,CAAqCuB,gBAAA;cAA7BC,OAAK,EAAEC,QAAA,CAAAC;YAAM;cAjBjC5B,OAAA,EAAAC,QAAA,CAiBmC,MAAM,CAjBzC4B,gBAAA,CAiBmC,QAAM,E;cAjBzCC,CAAA;;YAAAA,CAAA;;UAAAA,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;QAsBI5B,YAAA,CAAuD6B,gBAAA;MAtB3DrB,UAAA,EAsBoBC,IAAA,CAAAqB,WAAW;MAtB/B,uBAAAlB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAsBoBJ,IAAA,CAAAqB,WAAW,GAAAjB,MAAA;MAAGkB,KAAK,EAAEtB,IAAA,CAAAuB;;IAtBzCJ,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}