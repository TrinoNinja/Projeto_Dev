{"version":3,"file":"ej2-vue-base.min.js","sources":["../../src/component-base.js","../../src/template.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Vue Component Base\n */\nimport * as Vue from 'vue';\nimport { isNullOrUndefined, extend, getValue, setProxyToRaw } from '@syncfusion/ej2-base';\n/**\n * Clone the Vue compiler instance.\n *\n * @param {any} obj - representes the Vue compiler.\n * @returns {any} cloned object of Vue compiler.\n */\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) {\n    return obj;\n}\nelse {\n    var newObj = {};\n    if (obj != null) {\n        for (var key in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                newObj[\"\" + key] = obj[\"\" + key];\n            }\n        }\n    }\n    newObj.default = obj;\n    return newObj;\n} }\nvar curVue = _interopRequireWildcard(Vue);\nexport var isExecute = (parseInt(curVue['version'], 10) > 2) ? false : true;\nexport var aVue = !isExecute ? curVue : (curVue['default']['default'] ? curVue['default']['default'] : curVue['default']);\nexport var gh = curVue['h'];\nexport var vueDefineComponent = function (options) { return !isExecute ? aVue['defineComponent'](options) : aVue['extend'](options); };\nexport var ComponentBase = vueDefineComponent({\n    name: 'ComponentBase',\n    data: function () {\n        return {\n            tagMapper: {},\n            tagNameMapper: {},\n            hasInjectedModules: false,\n            hasChildDirective: false,\n            childDirObjects: '',\n            propKeys: {},\n            isDecorator: false\n        };\n    },\n    created: function () {\n        var _this = this;\n        if (this.ej2Instance) {\n            this.ej2Instances = this.isVue3 ? aVue.toRaw(this.ej2Instance) : this.ej2Instance;\n        }\n        if (!this.propKeys) {\n            return;\n        }\n        var _loop_1 = function (prop) {\n            this_1.ej2Instances.addEventListener(prop, function (args) {\n                _this.$emit(prop, args);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n        var injectables = getValue('$root.$options.provide', this);\n        var vueInjectables = getValue('$parent.$options.provide', this);\n        vueInjectables = !isNullOrUndefined(vueInjectables) ? vueInjectables : getValue('$.parent.provides', this);\n        if (this.hasInjectedModules && !isExecute) {\n            var prevModule = [];\n            if (injectables && injectables.managed) {\n                this.isDecorator = true;\n                prevModule = this.getInjectedServices() || [];\n            }\n            else if (injectables) {\n                prevModule = injectables[this.ej2Instances.getModuleName()] || [];\n            }\n            else if (vueInjectables) {\n                prevModule = this.getInjectedServices() || [];\n            }\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_1 = curModule; _b < curModule_1.length; _b++) {\n                var mod = curModule_1[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n    },\n    mounted: function () {\n        var cusEle = this.$el ? this.$el.querySelectorAll('div.e-directive') : null;\n        if (!isExecute && cusEle) {\n            for (var i = 0; i < cusEle.length; i++) {\n                var cusElement = cusEle[parseInt(i.toString(), 10)];\n                if (cusElement.parentElement) {\n                    cusElement.parentElement.removeChild(cusElement);\n                }\n            }\n        }\n        this.ej2Instances.isVue = true;\n        this.ej2Instances.isVue3 = this.isVue3;\n        this.ej2Instances.vueInstance = this;\n        if (this.isVue3) {\n            this.ej2Instances.ej2Instances = this.ej2Instances;\n            this.ej2Instances.referModels = this.models;\n            this.setModelValue();\n        }\n        this.ej2Instances.appendTo(this.$el);\n    },\n    updated: function () {\n        this.updated();\n    },\n    beforeDestroy: function () {\n        this.destroyComponent();\n    },\n    beforeUnmount: function () {\n        this.destroyComponent();\n    },\n    methods: {\n        setModelValue: function () {\n            if (!isNullOrUndefined(this.modelValue) || !isNullOrUndefined(this.$attrs.modelValue)) {\n                var key = this.models.toString().match(/checked|value/) || [];\n                var propKey = key[0];\n                if (!isNullOrUndefined(propKey)) {\n                    this.ej2Instances[\"\" + propKey] = !isNullOrUndefined(this.modelValue) ? this.modelValue : this.$attrs.modelValue;\n                }\n            }\n        },\n        updated: function () {\n            if (this.isVue3) {\n                this.setModelValue();\n            }\n            if (this.hasChildDirective) {\n                var childKey = {};\n                this.fetchChildPropValues(childKey);\n                var curChildDir = JSON.stringify(childKey);\n                if (this.childDirObjects !== curChildDir) {\n                    this.childDirObjects = curChildDir;\n                    this.assignValueToWrapper(childKey, false);\n                }\n            }\n        },\n        getInjectedServices: function () {\n            var ret = [];\n            var provide;\n            if (this.$root && this.isDecorator) {\n                provide = getValue('$root.$options.provide', this);\n            }\n            else if (this.$vnode) {\n                provide = getValue('$vnode.context.$options.provide', this);\n            }\n            else if (this.$parent) {\n                provide = getValue('$parent.$options.provide', this);\n            }\n            if (isNullOrUndefined(provide) && !isNullOrUndefined(this.$)) {\n                provide = getValue('$.parent.provides', this);\n            }\n            if (provide) {\n                var injectables = provide;\n                if (typeof provide === 'function') {\n                    if (provide.managed) {\n                        var pKey = provide.managed;\n                        var pValue = Object.keys(pKey);\n                        var key = void 0;\n                        if (this.$root && this.isDecorator) {\n                            key = Object.keys(this.$root);\n                        }\n                        else if (this.$vnode) {\n                            key = Object.keys(this.$vnode.context);\n                        }\n                        else if (this.$parent) {\n                            key = Object.keys(this.$parent);\n                        }\n                        for (var i = 0; i < pValue.length; i++) {\n                            for (var j = 0; j < key.length; j++) {\n                                if ((key[parseInt(j.toString(), 10)].indexOf(pValue[parseInt(i.toString(), 10)])) !== -1) {\n                                    if (this.$root && this.isDecorator) {\n                                        pKey[pValue[parseInt(j.toString(), 10)]] = this.$root[key[parseInt(i.toString(), 10)]];\n                                    }\n                                    else if (this.$vnode) {\n                                        pKey[pValue[parseInt(i.toString(), 10)]] = this.$vnode.context[key[parseInt(j.toString(), 10)]];\n                                    }\n                                    else if (this.$parent) {\n                                        pKey[pValue[parseInt(i.toString(), 10)]] = this.$parent[key[parseInt(j.toString(), 10)]];\n                                    }\n                                    injectables = pKey;\n                                }\n                            }\n                        }\n                    }\n                    else if (this.$vnode) {\n                        injectables = this.$vnode.context.$options.provide();\n                    }\n                    else if (this.$parent) {\n                        injectables = this.$parent.$options.provide();\n                    }\n                }\n                ret = injectables[this.ej2Instances.getModuleName()] || [];\n            }\n            this.isDecorator = false;\n            return ret;\n        },\n        destroyComponent: function () {\n            this.ej2Instances.destroy();\n            this.$el.style.visibility = 'hidden';\n            this.destroyPortals();\n        },\n        destroyPortals: function () {\n            if (this.portals) {\n                for (var _i = 0, _a = this.portals; _i < _a.length; _i++) {\n                    var portal = _a[_i];\n                    var controls = portal.classList.contains('e-control') ? [portal] : portal.getElementsByClassName('e-control');\n                    for (var index = 0; index < controls.length; index++) {\n                        var control = controls[parseInt(index.toString(), 10)];\n                        if (control.ej2_instances && control.ej2_instances[0]) {\n                            control.ej2_instances[0].destroy();\n                            index--;\n                        }\n                    }\n                }\n                this.portals = null;\n            }\n        },\n        bindProperties: function () {\n            var options = {};\n            for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n                var prop = _a[_i];\n                if (!isNullOrUndefined(this[\"\" + prop])) {\n                    options[\"\" + prop] = this[\"\" + prop];\n                }\n                else if (this[0] && !isNullOrUndefined(this[0][0]) && !isNullOrUndefined(this[0][0][\"\" + prop])) {\n                    options[\"\" + prop] = this[0][0][\"\" + prop];\n                }\n            }\n            if (this.hasChildDirective) {\n                this.fetchChildPropValues(options);\n            }\n            if (this.hasInjectedModules) {\n                var prevModule = this.getInjectedServices() || [];\n                var curModule = this.ej2Instances.getInjectedModules() || [];\n                for (var _b = 0, curModule_2 = curModule; _b < curModule_2.length; _b++) {\n                    var mod = curModule_2[_b];\n                    if (prevModule.indexOf(mod) === -1) {\n                        prevModule.push(mod);\n                    }\n                }\n                this.ej2Instances.injectedModules = prevModule;\n            }\n            this.assignValueToWrapper(options);\n        },\n        assignValueToWrapper: function (option, silent) {\n            this.ej2Instances.setProperties(extend({}, {}, option, true), isNullOrUndefined(silent) ? true : silent);\n        },\n        fetchChildPropValues: function (childOption) {\n            var dirProps = {};\n            if (!this.isVue3) {\n                dirProps = this.getDirectiveValues(this.$slots.default, this.tagMapper || {}, this.tagNameMapper || {});\n            }\n            else {\n                var propRef = void 0;\n                if (this[0] && this[0][1].slots.default) {\n                    propRef = this[0][1].slots.default();\n                }\n                else if (this && this.$ && this.$.slots && this.$.slots.default) {\n                    propRef = this.$.slots.default();\n                }\n                if (propRef) {\n                    for (var i = 0; i < propRef.length; i++) {\n                        if (propRef[parseInt(i.toString(), 10)].type.methods || propRef[parseInt(i.toString(), 10)].type === 'e-seriescollection') {\n                            var key = propRef[parseInt(i.toString(), 10)].type === 'e-seriescollection' ? 'series-collection' :\n                                propRef[parseInt(i.toString(), 10)].type.methods.getTag().replace('e-', '');\n                            var ref = this.resolveArrayDirectives(propRef[parseInt(i.toString(), 10)].children, key);\n                            var spKeys = key.split('-');\n                            var controlName = this.ej2Instances.getModuleName().toLowerCase();\n                            var keyRef = (spKeys.length > 1 && controlName.indexOf(spKeys[0]) > -1) ? spKeys[1] : spKeys[0];\n                            keyRef = keyRef.replace(controlName, '');\n                            keyRef = this.tagNameMapper['e-' + key] ? this.tagNameMapper['e-' + key].replace('e-', '') : keyRef;\n                            if (controlName === 'splitter' && keyRef === 'panes') {\n                                keyRef = 'paneSettings';\n                            }\n                            else if (controlName === 'bulletchart' && keyRef === 'range') {\n                                keyRef = 'ranges';\n                            }\n                            else if (controlName === 'schedule' && keyRef === 'header') {\n                                keyRef = 'headerRows';\n                            }\n                            dirProps[\"\" + keyRef] = ref[\"\" + key];\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n            if (!this.childDirObjects) {\n                this.childDirObjects = JSON.stringify(dirProps);\n            }\n            for (var _i = 0, _a = Object.keys(dirProps); _i < _a.length; _i++) {\n                var dirProp = _a[_i];\n                childOption[\"\" + dirProp] = dirProps[\"\" + dirProp];\n            }\n        },\n        resolveArrayDirectives: function (slots, tagName) {\n            var slot = [];\n            var innerDirValues;\n            slot = slots.default ? slots.default() : slots;\n            slot = slot.flatMap(function (item) { return Array.isArray(item.children) ? item.children : item; });\n            var items = {};\n            items[\"\" + tagName] = [];\n            var _loop_2 = function (childSlot) {\n                var tempObj = {};\n                var tagRef = childSlot.type.methods ? childSlot.type.methods.getTag() : tagName;\n                if (childSlot.children) {\n                    var key = void 0;\n                    innerDirValues = this_2.resolveComplexDirs(childSlot.children, this_2.tagMapper['e-' + tagName], tagRef);\n                    if (innerDirValues.length) {\n                        tempObj = innerDirValues;\n                    }\n                    else {\n                        for (var i = 0; i < Object.keys(innerDirValues).length; i++) {\n                            key = Object.keys(innerDirValues)[parseInt(i.toString(), 10)];\n                            tempObj[\"\" + key] = innerDirValues[\"\" + key];\n                        }\n                    }\n                }\n                if (childSlot.props) {\n                    Object.keys(childSlot.props).forEach(function (key) {\n                        var propName = key.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); });\n                        if (propName) {\n                            tempObj[\"\" + propName] = childSlot.props[\"\" + key];\n                        }\n                    });\n                }\n                if (((/[s]\\b/).test(tagRef) && innerDirValues) && (!(/[s]\\b/).test(tagName) || innerDirValues.length)) {\n                    if (Array.isArray(tempObj)) {\n                        tempObj.forEach(function (item) { items[\"\" + tagName].push(item); });\n                    }\n                    else {\n                        items[\"\" + tagName].push(tempObj);\n                    }\n                }\n                else if (tempObj && Object.keys(tempObj).length !== 0) {\n                    items[\"\" + tagName].push(tempObj);\n                }\n            };\n            var this_2 = this;\n            for (var _i = 0, slot_1 = slot; _i < slot_1.length; _i++) {\n                var childSlot = slot_1[_i];\n                _loop_2(childSlot);\n            }\n            return items;\n        },\n        resolveComplexDirs: function (slots, tagObject, tagName) {\n            var slot = [];\n            var innerDirValues;\n            slot = slots.default ? slots.default() : slots;\n            var items = {};\n            var _loop_3 = function (childSlot) {\n                var tagRef = void 0;\n                var tag = void 0;\n                if (tagObject[\"\" + tagName]) {\n                    tagRef = Object.keys(tagObject[\"\" + tagName]);\n                    tag = tagRef.find(function (key) {\n                        return tagObject[\"\" + tagName][\"\" + key] ===\n                            childSlot.type.methods.getTag().replace(/[s]\\b/, '');\n                    });\n                    tag = tag ? tag : childSlot.type.methods.getTag();\n                    tag = (this_3.tagNameMapper[\"\" + tag] ? this_3.tagNameMapper[\"\" + tag] : tag).replace('e-', '');\n                    if (this_3.ej2Instances.getModuleName().toLowerCase() === 'diagram' && tag.indexOf('annotations') !== -1) {\n                        tag = 'annotations';\n                    }\n                }\n                if (childSlot.children) {\n                    innerDirValues = this_3.resolveComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                    if (!items[\"\" + tag]) {\n                        items[\"\" + tag] = [];\n                    }\n                    if (innerDirValues.length > 1) {\n                        items[\"\" + tag] = innerDirValues;\n                    }\n                    else {\n                        items[\"\" + tag].push(innerDirValues);\n                    }\n                }\n                if (childSlot.props) {\n                    childSlot.props = this_3.getCamelCaseProps(childSlot.props);\n                }\n                if (slot.length > 1) {\n                    items = Object.keys(items).length === 0 && !items.length ? [] : items;\n                    if (childSlot.props) {\n                        items.push(childSlot.props);\n                    }\n                }\n                else {\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            };\n            var this_3 = this;\n            for (var _i = 0, slot_2 = slot; _i < slot_2.length; _i++) {\n                var childSlot = slot_2[_i];\n                _loop_3(childSlot);\n            }\n            return items;\n        },\n        resolveComplexInnerDirs: function (slots, tagObject, tagName) {\n            var slot = [];\n            slot = slots.default ? slots.default() : slots;\n            var items = slot.length > 1 ? [] : {};\n            for (var _i = 0, slot_3 = slot; _i < slot_3.length; _i++) {\n                var childSlot = slot_3[_i];\n                var innerDirValues = null;\n                var tag = childSlot.type.methods.getTag();\n                tag = (this.tagNameMapper[\"\" + tag] ? this.tagNameMapper[\"\" + tag] : tag).replace('e-', '');\n                if (childSlot.children) {\n                    innerDirValues = this.resolveMultilevelComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                    if ((/[s]\\b/).test(tag) || slot.length > 1) {\n                        if ((/[s]\\b/).test(tag)) {\n                            items[\"\" + tag] = !items[\"\" + tag] ? [] : items[\"\" + tag];\n                            if (innerDirValues.length) {\n                                items[\"\" + tag] = innerDirValues;\n                            }\n                            else {\n                                items[\"\" + tag].push(innerDirValues);\n                            }\n                        }\n                        else if (innerDirValues && !childSlot.props) {\n                            items.push(innerDirValues);\n                        }\n                    }\n                    else {\n                        items = innerDirValues ? innerDirValues : items;\n                    }\n                }\n                if (childSlot.props) {\n                    childSlot.props = this.getCamelCaseProps(childSlot.props);\n                }\n                if (slot.length > 1 && childSlot.props) {\n                    if (innerDirValues) {\n                        innerDirValues = childSlot.props ? Object.assign(innerDirValues, childSlot.props) : innerDirValues;\n                        items.push(innerDirValues);\n                    }\n                    else if (items.length >= 0) {\n                        items.push(childSlot.props);\n                    }\n                    else {\n                        items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                    }\n                }\n                else {\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            }\n            return items;\n        },\n        resolveMultilevelComplexInnerDirs: function (slots, tagObject, tagName) {\n            var slot = [];\n            slot = slots.default ? slots.default() : slots;\n            var items = slot.length > 1 ? [] : {};\n            for (var _i = 0, slot_4 = slot; _i < slot_4.length; _i++) {\n                var childSlot = slot_4[_i];\n                var innerDirValues = null;\n                var tag = childSlot.type.methods.getTag();\n                tag = (this.tagNameMapper[\"\" + tag] ? this.tagNameMapper[\"\" + tag] : tag).replace('e-', '');\n                if (childSlot.children) {\n                    innerDirValues = this.resolveComplexInnerDirs(childSlot.children, tagObject[\"\" + tagName], childSlot.type.methods.getTag());\n                }\n                if (childSlot.props) {\n                    childSlot.props = this.getCamelCaseProps(childSlot.props);\n                }\n                if ((/[s]\\b/).test(tag)) {\n                    items[\"\" + tag] = !items[\"\" + tag] ? [] : items[\"\" + tag];\n                    if (innerDirValues.length) {\n                        items[\"\" + tag] = innerDirValues;\n                    }\n                    else {\n                        items[\"\" + tag].push(innerDirValues);\n                    }\n                    if (childSlot.props) {\n                        items[\"\" + tag].push(childSlot.props);\n                    }\n                }\n                else {\n                    items = innerDirValues;\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            }\n            return items;\n        },\n        getDirectiveValues: function (tagDirectives, tagMapper, tagNameMapper) {\n            var keyTags = Object.keys(tagMapper);\n            var dir = {};\n            if (tagDirectives) {\n                for (var _i = 0, tagDirectives_1 = tagDirectives; _i < tagDirectives_1.length; _i++) {\n                    var tagDirective = tagDirectives_1[_i];\n                    var tagCompOption = tagDirective.componentOptions;\n                    if (tagCompOption && tagCompOption.children && this.getTagName(tagCompOption) ||\n                        (tagDirective.tag === 'e-seriescollection' && tagDirective.children)) {\n                        var dirTag = tagCompOption ? this.getTagName(tagCompOption) : tagDirective.tag;\n                        dirTag = (dirTag === 'e-seriescollection') ? 'e-seriesCollection' : dirTag;\n                        if (keyTags.indexOf(dirTag) !== -1) {\n                            var tagName = tagNameMapper[\"\" + dirTag] ? tagNameMapper[\"\" + dirTag] : dirTag;\n                            dir[tagName.replace('e-', '')] = [];\n                            var children = tagCompOption ? tagCompOption.children : tagDirective.children;\n                            for (var _a = 0, children_1 = children; _a < children_1.length; _a++) {\n                                var tagDirChild = children_1[_a];\n                                var retObj = this.getVNodeValue(tagDirChild, tagMapper[\"\" + dirTag], tagNameMapper);\n                                if (Object.keys(retObj).length !== 0) {\n                                    dir[tagName.replace('e-', '')].push(retObj);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            return dir;\n        },\n        getMultiLevelDirValue: function (tagDirectories, tagKey, tagNameMapper) {\n            var mulObj = {};\n            for (var _i = 0, tagDirectories_1 = tagDirectories; _i < tagDirectories_1.length; _i++) {\n                var tagDir = tagDirectories_1[_i];\n                var key = void 0;\n                var children = void 0;\n                if (tagDir.componentOptions) {\n                    key = this.getTagName(tagDir.componentOptions);\n                    if (tagDir.componentOptions.children) {\n                        children = tagDir.componentOptions.children;\n                    }\n                }\n                else if ((tagDir.tag === 'e-markersettings' || tagDir.tag === 'e-markersetting') && tagDir.children) {\n                    key = (tagDir.tag === 'e-markersettings') ? 'e-markerSettings' : 'e-markerSetting';\n                    children = tagDir.children;\n                }\n                if (key) {\n                    var tagName = tagNameMapper[\"\" + key] ? tagNameMapper[\"\" + key] : key;\n                    mulObj[tagName.replace('e-', '')] = [];\n                    if (children) {\n                        for (var _a = 0, children_2 = children; _a < children_2.length; _a++) {\n                            var tagDirChild = children_2[_a];\n                            var mulLevObj = this.getVNodeValue(tagDirChild, tagKey[\"\" + key], tagNameMapper);\n                            if (Object.keys(mulLevObj).length !== 0) {\n                                mulObj[tagName.replace('e-', '')].push(mulLevObj);\n                            }\n                        }\n                    }\n                }\n            }\n            return mulObj;\n        },\n        getVNodeValue: function (tagDirective, tagKey, tagNameMapper) {\n            var ret = {};\n            if (tagDirective.componentOptions || ((tagDirective.tag === 'e-markersettings' || tagDirective.tag === 'e-markersetting') && tagDirective.context)) {\n                var dirTag = void 0;\n                if (tagDirective.componentOptions) {\n                    dirTag = this.getTagName(tagDirective.componentOptions);\n                }\n                else {\n                    dirTag = (tagDirective.tag === 'e-markersettings') ? 'e-markerSettings' : 'e-markerSetting';\n                }\n                var tagData = tagDirective.data;\n                if (typeof tagKey === 'string' && dirTag === tagKey && tagData) {\n                    ret = tagData.attrs ? this.getCamelCaseProps(tagData.attrs) : this.getCamelCaseProps(tagData);\n                }\n                else if (typeof tagKey === 'object') {\n                    if (tagDirective.componentOptions.children && (Object.keys(tagKey).indexOf(dirTag) !== -1)) {\n                        ret = this.getMultiLevelDirValue(tagDirective.componentOptions.children, tagKey[\"\" + dirTag], tagNameMapper);\n                    }\n                    else if (tagDirective.children && (Object.keys(tagKey).indexOf(dirTag) !== -1) && (dirTag === 'e-markersettings' || dirTag === 'e-markersetting')) {\n                        ret = this.getMultiLevelDirValue(tagDirective.children, tagKey[\"\" + dirTag], tagNameMapper);\n                    }\n                    if (tagData && tagData.attrs) {\n                        ret = extend(ret, this.getCamelCaseProps(tagData.attrs));\n                    }\n                }\n            }\n            return ret;\n        },\n        /**\n         * convert kebab case directive props to camel case.\n         *\n         * @param {Object} props - Objects in kebab case directive props.\n         * @returns {Object} Object converted into camel case directive props.\n         */\n        getCamelCaseProps: function (props) {\n            var retProps = {};\n            for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                retProps[prop.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); })] = props[\"\" + prop];\n            }\n            return retProps;\n        },\n        dataBind: function () {\n            this.ej2Instances.dataBind();\n        },\n        setProperties: function (arg, muteOnChange) {\n            return this.ej2Instances.setProperties(arg, muteOnChange);\n        },\n        getTagName: function (options) {\n            var tag = options.tag;\n            var optCtor = options.Ctor;\n            if (!tag && optCtor && optCtor.extendOptions && optCtor.extendOptions.methods && optCtor.extendOptions.methods.getTag) {\n                tag = options.Ctor.extendOptions.methods.getTag();\n            }\n            return tag;\n        }\n    }\n});\n/**\n * Collect public property values for the Vue component.\n *\n * @param {any} options - represents props object.\n * @returns {any} array of props object and `watchobject` respectively.\n */\nexport function getProps(options) {\n    if (options === void 0) { options = {}; }\n    if (options.props) {\n        var _loop_4 = function (prop) {\n            (options.newprops || (options.newprops = {}))[\"\" + prop] = {};\n            (options.watch || (options.watch = {}))[\"\" + prop] = function (newVal) {\n                this.ej2Instances[\"\" + prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_4(prop);\n        }\n    }\n    return [options.newprops, options.watch];\n}\nif (!isExecute) {\n    setProxyToRaw(aVue.toRaw);\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/* eslint-disable @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types */\nimport { setTemplateEngine, getTemplateEngine, getUniqueID, createElement, detach, extend, getValue } from '@syncfusion/ej2-base';\nimport { aVue as Vue, isExecute } from './component-base';\nvar stringCompiler = getTemplateEngine();\n/**\n * Compiler function that convert the template property to DOM element.\n *\n * @param {any} templateElement - represents value of the template property from the component.\n * @param {Object} helper - represents helper object to utilize on template compilation.\n * @returns {NodeList} template element that append to the component.\n */\nexport function compile(templateElement, helper) {\n    var _this = this;\n    return function (data, context, propName, element, root) {\n        var _a, _b, _c, _d;\n        var returnEle;\n        if (context) {\n            var plugins = context.vueInstance && context.vueInstance.plugins ? { plugins: context.vueInstance.plugins } : {};\n            var vueInstance = context.vueInstance ? context.vueInstance :\n                ((root && root.vueInstance) ? root.vueInstance : null);\n            var pid = getUniqueID('templateParentDiv');\n            var id = getUniqueID('templateDiv');\n            var ele = createElement('div', {\n                id: pid,\n                innerHTML: '<div id=\"' + id + '\"></div>'\n            });\n            document.body.appendChild(ele);\n            if (!isExecute && (typeof templateElement === 'string' || (templateElement.prototype && templateElement.prototype.CSPTemplate && typeof templateElement === 'function'))) {\n                var vueSlot_1 = getCurrentVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_1) {\n                    // Compilation for Vue 3 slot template\n                    var app = Vue.createVNode({\n                        render: function () {\n                            return vueSlot_1[\"\" + templateElement]({ data: data });\n                        }\n                    }, plugins);\n                    ele.innerHTML = '';\n                    // Get values for Vue 3 slot template\n                    getValues(app, context.vueInstance, root);\n                    Vue.render(app, ele);\n                    if (vueInstance) {\n                        if (!vueInstance['portals']) {\n                            vueInstance['portals'] = [];\n                        }\n                        (_a = vueInstance.portals).push.apply(_a, [].slice.call(ele.children));\n                    }\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 3 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else if (!isExecute) {\n                // Compilation for Vue 3 functional template\n                var tempObj = templateElement.call(_this, {});\n                var object = tempObj;\n                var propsData = getValue('template.propsData', tempObj);\n                var dataObj_1 = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance\n                };\n                if (!object.template) {\n                    object.template = object[Object.keys(object)[0]];\n                }\n                var templateCompRef = void 0;\n                if (object.template.extends) {\n                    templateCompRef = object.template.extends._context.components.template;\n                }\n                else {\n                    templateCompRef = object.template._context.components[templateElement.name];\n                    if (!templateCompRef) {\n                        var key = Object.keys(object.template._context.components)[0];\n                        templateCompRef = object.template._context.components[\"\" + key];\n                    }\n                }\n                var tempRef_1;\n                if (propsData) {\n                    if (templateCompRef.setup) {\n                        tempRef_1 = Object.assign({}, propsData);\n                    }\n                    else {\n                        tempRef_1 = Object.assign(templateCompRef.data(), propsData);\n                    }\n                }\n                else {\n                    if (templateCompRef.setup) {\n                        tempRef_1 = Object.assign({}, dataObj_1.data);\n                    }\n                    else {\n                        tempRef_1 = Object.assign(templateCompRef.data(), dataObj_1.data);\n                    }\n                    if (templateCompRef.components) {\n                        var objkeys = Object.keys(templateCompRef.components) || [];\n                        var _loop_1 = function (objstring) {\n                            var intComponent = templateCompRef.components[\"\" + objstring];\n                            if (intComponent && intComponent.data) {\n                                if (!intComponent.__data) {\n                                    intComponent.__data = intComponent.data;\n                                }\n                                intComponent.data = function (proxy) {\n                                    return Object.assign(intComponent.__data.call(proxy), dataObj_1.data);\n                                };\n                            }\n                        };\n                        for (var _i = 0, objkeys_1 = objkeys; _i < objkeys_1.length; _i++) {\n                            var objstring = objkeys_1[_i];\n                            _loop_1(objstring);\n                        }\n                    }\n                }\n                if (templateCompRef.setup) {\n                    plugins = Object.assign(plugins, data);\n                }\n                templateCompRef.data = function () { return tempRef_1; };\n                var app = Vue.createVNode(templateCompRef, plugins);\n                ele.innerHTML = '';\n                // Get values for Vue 3 functional template\n                getValues(app, context.vueInstance, root);\n                Vue.render(app, ele);\n                if (vueInstance) {\n                    if (!vueInstance['portals']) {\n                        vueInstance['portals'] = [];\n                    }\n                    (_b = vueInstance.portals).push.apply(_b, [].slice.call(ele.children));\n                }\n                returnEle = ele.childNodes;\n                if (context.vueInstance) {\n                    var templateInstance = context.vueInstance.templateCollection;\n                    if (!templateInstance) {\n                        context.vueInstance.templateCollection = {};\n                        templateInstance = context.vueInstance.templateCollection;\n                    }\n                    if (propName) {\n                        if (!templateInstance[\"\" + propName]) {\n                            templateInstance[\"\" + propName] = [];\n                        }\n                        templateInstance[\"\" + propName].push(returnEle[0]);\n                    }\n                }\n                detach(ele);\n            }\n            else if (typeof templateElement === 'string' || (templateElement.prototype && templateElement.prototype.CSPTemplate && typeof templateElement === 'function')) {\n                var vueSlot_2 = getVueSlot(context.vueInstance, templateElement, root);\n                if (vueSlot_2) {\n                    // Get provide values for Vue 2 slot template\n                    var provided_1 = {};\n                    var getProvideValues_1 = function (vueinstance) {\n                        if (vueinstance['$parent']) {\n                            getProvideValues_1(vueinstance.$parent);\n                        }\n                        if (vueinstance['_provided'] && Object.keys(vueinstance['_provided']).length > 0) {\n                            provided_1 = __assign({}, provided_1, vueinstance._provided);\n                        }\n                    };\n                    var vueInstance_1 = context.vueInstance ? context.vueInstance :\n                        ((root && root.vueInstance) ? root.vueInstance : null);\n                    if (vueInstance_1) {\n                        getProvideValues_1(vueInstance_1);\n                    }\n                    // Compilation for Vue 2 slot template\n                    var vueTemplate = new Vue({\n                        provide: __assign({}, provided_1),\n                        render: function () {\n                            return vueSlot_2[\"\" + templateElement]({ data: data });\n                        }\n                    });\n                    vueTemplate.$mount('#' + id);\n                    if (vueInstance_1) {\n                        if (!vueInstance_1['portals']) {\n                            vueInstance_1['portals'] = [];\n                        }\n                        (_c = vueInstance_1.portals).push.apply(_c, [].slice.call(ele.children));\n                    }\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 2 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else {\n                // Compilation for Vue 2 functional template\n                var tempObj = templateElement.call(_this, {});\n                var templateFunction = tempObj.template;\n                var propsData = getValue('template.propsData', tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance\n                };\n                if (propsData) {\n                    templateFunction = tempObj.template.extends;\n                    dataObj.propsData = propsData;\n                }\n                if (typeof templateFunction !== 'function') {\n                    templateFunction = Vue.extend(templateFunction);\n                }\n                if (templateFunction.options.setup) {\n                    dataObj.propsData = Object.assign(dataObj.propsData || {}, data);\n                }\n                var templateVue = new templateFunction(dataObj);\n                // let templateVue = new Vue(tempObj.template);\n                // templateVue.$data.data = extend(tempObj.data, data);\n                templateVue.$mount('#' + id);\n                if (vueInstance) {\n                    if (!vueInstance['portals']) {\n                        vueInstance['portals'] = [];\n                    }\n                    (_d = vueInstance.portals).push.apply(_d, [].slice.call(ele.children));\n                }\n                returnEle = ele.childNodes;\n                if (context.vueInstance) {\n                    var templateInstance = context.vueInstance.templateCollection;\n                    if (!templateInstance) {\n                        context.vueInstance.templateCollection = {};\n                        templateInstance = context.vueInstance.templateCollection;\n                    }\n                    if (propName) {\n                        if (!templateInstance[\"\" + propName]) {\n                            templateInstance[\"\" + propName] = [];\n                        }\n                        templateInstance[\"\" + propName].push(returnEle[0]);\n                    }\n                }\n                detach(ele);\n            }\n        }\n        return returnEle || [];\n    };\n}\nsetTemplateEngine({ compile: compile });\n/**\n * Collect values from the app instance.\n *\n * @param {any} app - represents global application instance\n * @param {any} cInstance - represents Vue component instance\n * @param {any} root - represents parent component instance\n * @returns {void}\n */\nfunction getValues(app, cInstance, root) {\n    var vueInstance = cInstance ? cInstance : ((root && root.vueInstance) ? root.vueInstance : null);\n    if (!vueInstance) {\n        return;\n    }\n    // Get globally defined variables.\n    app['appContext'] = vueInstance['$']['appContext'];\n    // Get provide value from child component.\n    var provided = {};\n    var getProvideValue = function (vueinstance) {\n        if (vueinstance['$'] && vueinstance['$']['parent']) {\n            getProvideValue(vueinstance.$.parent);\n        }\n        if (vueinstance['provides'] && Object.keys(vueinstance['provides']).length > 0) {\n            provided = __assign({}, provided, vueinstance.provides);\n        }\n    };\n    getProvideValue(vueInstance);\n    if (app['appContext']['provides']) {\n        app.appContext.provides = __assign({}, app.appContext.provides, provided);\n    }\n}\n/**\n * Get the Vue2 slot template from the root or current Vue component.\n *\n * @param {any} vueInstance - represents parent Vue instance.\n * @param {any} templateElement - represents component property value\n * @param {any} root - represents root Vue instance\n * @returns {any} template Vue instance\n */\nfunction getVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var instance = (root && root.vueInstance) ? root.vueInstance : vueInstance;\n    return getVueChildSlot(instance, templateElement);\n}\n/**\n * Get the Vue2 nested slot template from the root or current Vue component.\n *\n * @param {any} vueInstance - represents parent Vue instance.\n * @param {any} templateElement - represents component property value\n * @returns {any} nested template Vue instance\n */\nfunction getVueChildSlot(vueInstance, templateElement) {\n    if (!vueInstance) {\n        return undefined;\n    }\n    var slots = vueInstance.$slots;\n    var scopedSlots = vueInstance.$scopedSlots;\n    var vSlots = vueInstance.scopedSlots;\n    var children = vueInstance.children;\n    if (scopedSlots && scopedSlots[\"\" + templateElement]) {\n        return scopedSlots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default;\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getVueChildSlot(getSlot(childSlots[parseInt(i.toString(), 10)]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    else if (vSlots && vSlots[\"\" + templateElement]) {\n        return vSlots;\n    }\n    else if (children) {\n        for (var i = 0; i < children.length; i++) {\n            var slot = getVueChildSlot(getSlot(children[parseInt(i.toString(), 10)]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\n/**\n * Collect the component slot directive instance.\n *\n * @param {any} vnode - represents Vue components slot instance.\n * @returns {any} the slot instance of the directive.\n */\nfunction getSlot(vnode) {\n    var slot = (vnode.componentOptions && vnode.componentOptions.children) ? vnode.componentOptions :\n        (!vnode.data && (vnode.tag === 'e-markersettings' || vnode.tag === 'e-markersetting')) ? vnode : vnode.data;\n    return vnode.componentInstance ? vnode.componentInstance : slot;\n}\n/**\n * Get the Vue3 slot template from the root or current Vue component.\n *\n * @param {any} vueInstance - represents parent Vue instance.\n * @param {any} templateElement - represents component property value\n * @param {any} root - represents root Vue instance\n * @returns {any} slot template instance\n */\nfunction getCurrentVueSlot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var slots = (root && root.vueInstance) ? root.vueInstance.$slots : vueInstance.$slots;\n    return getChildVueSlot(slots, templateElement);\n}\n/**\n * Get the Vue3 nested slot template from the root or current Vue component.\n *\n * @param {any} slots - represents slot instance.\n * @param {any} templateElement - represents component property value\n * @returns {any} nested template Vue instance\n */\nfunction getChildVueSlot(slots, templateElement) {\n    if (slots && slots[\"\" + templateElement]) {\n        return slots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default();\n        childSlots = childSlots.flatMap(function (item) { return Array.isArray(item.children) ? item.children : item; });\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getChildVueSlot(childSlots[parseInt(i.toString(), 10)].children, templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\n"],"names":["getProps","options","props","_i","_a","length","prop","newprops","watch","newVal","this","ej2Instances","dataBind","name","compile","templateElement","helper","_this","data","context","propName","element","root","_b","_c","_d","returnEle","plugins","vueInstance","pid","getUniqueID","id","ele","createElement","innerHTML","document","body","appendChild","isExecute","prototype","CSPTemplate","vueSlot_1","getCurrentVueSlot","detach","stringCompiler","app","Vue","createVNode","render","getValues","portals","push","apply","slice","call","children","childNodes","vueSlot_2","getVueSlot","provided_1","getProvideValues_1","vueinstance","$parent","Object","keys","__assign","_provided","vueInstance_1","provide","$mount","tempObj","templateFunction","template","propsData","getValue","dataObj","extend","parent","extends","setup","assign","templateInstance","templateCollection","object","dataObj_1","templateCompRef","_context","components","key","tempRef_1","objkeys_1","objstring","intComponent","__data","proxy","cInstance","provided","getProvideValue","$","provides","appContext","getVueChildSlot","slots","$slots","scopedSlots","$scopedSlots","vSlots","default","childSlots","i","slot","getSlot","parseInt","toString","vnode","componentOptions","tag","componentInstance","getChildVueSlot","flatMap","item","Array","isArray","curVue","obj","__esModule","newObj","hasOwnProperty","aVue","gh","vueDefineComponent","ComponentBase","tagMapper","tagNameMapper","hasInjectedModules","hasChildDirective","childDirObjects","propKeys","isDecorator","created","ej2Instance","isVue3","toRaw","this_1","addEventListener","args","$emit","injectables","vueInjectables","isNullOrUndefined","prevModule","managed","getInjectedServices","getModuleName","curModule_1","getInjectedModules","mod","indexOf","injectedModules","mounted","cusEle","$el","querySelectorAll","cusElement","parentElement","removeChild","isVue","referModels","models","setModelValue","appendTo","updated","beforeDestroy","destroyComponent","beforeUnmount","methods","modelValue","$attrs","propKey","match","childKey","fetchChildPropValues","curChildDir","JSON","stringify","assignValueToWrapper","ret","$root","$vnode","pKey","pValue","j","$options","destroy","style","visibility","destroyPortals","portal","controls","classList","contains","getElementsByClassName","index","control","ej2_instances","bindProperties","curModule_2","option","silent","setProperties","childOption","dirProps","propRef","type","getTag","replace","ref","resolveArrayDirectives","spKeys","split","controlName","toLowerCase","keyRef","getDirectiveValues","dirProp","tagName","innerDirValues","items","this_2","slot_1","childSlot","tagRef","resolveComplexDirs","forEach","e","toUpperCase","test","tagObject","this_3","slot_2","find","resolveComplexInnerDirs","getCamelCaseProps","slot_3","resolveMultilevelComplexInnerDirs","slot_4","tagDirectives","keyTags","dir","tagDirectives_1","tagDirective","tagCompOption","getTagName","dirTag","children_1","tagDirChild","retObj","getVNodeValue","getMultiLevelDirValue","tagDirectories","tagKey","mulObj","tagDirectories_1","tagDir","children_2","mulLevObj","tagData","attrs","retProps","arg","muteOnChange","optCtor","Ctor","extendOptions","setProxyToRaw","t","s","n","arguments","p","getTemplateEngine"],"mappings":"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"}